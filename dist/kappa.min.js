"use strict";!function(e){function t(){return"undefined"!=typeof Storage&&null!==o?!0:new Promise(n)}function n(t,n){e.get("https://twitchemotes.com/api_cache/v2/global.json",function(e){"undefined"!=typeof Storage&&localStorage.setItem("kappa-js",JSON.stringify(e)),t(e)})}var a=void 0,o=localStorage.getItem("kappa-js");null===o?t().then(function(e){window.KappaJS=e}):window.KappaJS=JSON.parse(localStorage.getItem("kappa-js")),e.fn.kappa=function(t){function n(e,t){var n=e.image_id;return['<img src="',KappaJS.template[l.emoteSize].replace("{image_id}",n),'" ',null===l.customClass?"":'class="'+l.customClass+'" ','alt="',t,'">'].join("")}function o(){var e=setInterval(function(){"undefined"!=typeof window.KappaJS&&(i(),clearInterval(e))},500)}function i(){"undefined"==typeof a&&(a=new RegExp("\\b("+Object.keys(KappaJS.emotes).join("|")+")\\b","g")),e(p).each(function(t,o){e(o).html(e(o).html().replace(a,function(e,t){return n(KappaJS.emotes[t],t)}))})}var p=this,l=e.extend({customClass:null,emoteSize:"small"},t);"undefined"==typeof window.KappaJS?o():i()}}(jQuery);